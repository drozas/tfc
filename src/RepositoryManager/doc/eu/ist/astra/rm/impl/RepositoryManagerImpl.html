<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_10) on Thu Aug 13 12:10:26 CEST 2009 -->
<TITLE>
RepositoryManagerImpl
</TITLE>

<META NAME="date" CONTENT="2009-08-13">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="RepositoryManagerImpl";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/RepositoryManagerImpl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../eu/ist/astra/rm/impl/Activator.html" title="class in eu.ist.astra.rm.impl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../eu/ist/astra/rm/impl/SharedApplication.html" title="class in eu.ist.astra.rm.impl"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?eu/ist/astra/rm/impl/RepositoryManagerImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RepositoryManagerImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
eu.ist.astra.rm.impl</FONT>
<BR>
Class RepositoryManagerImpl</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>eu.ist.astra.rm.impl.RepositoryManagerImpl</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>eu.ist.astra.em.IEventsListener, <A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>RepositoryManagerImpl</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A>, eu.ist.astra.em.IEventsListener</DL>
</PRE>

<P>
Implements the ApplicationRepositoryManager functionality:
 
 - Offer services to share applications
 - Offer services to get shared applications
 - Store them in his own DB model (using PM) 
 - Offer services to search applications by criteria (new)
 - Offer services to search applications by similarity (new)
 
 - This bundle keeps a copy in memory which is synchronized with the DB
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>David Rozas & Alfredo Perez</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;java.util.Hashtable&lt;java.lang.String,<A HREF="../../../../../eu/ist/astra/rm/impl/SharedApplication.html" title="class in eu.ist.astra.rm.impl">SharedApplication</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#apps">apps</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;BundleContext</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#bc">bc</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;eu.ist.astra.cm.ICommunityManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#cm">cm</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;eu.ist.astra.em.IEventsServer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#es">es</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;eu.ist.astra.persistency.IPersistencyManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#pm">pm</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;<A HREF="../../../../../eu/ist/astra/rm/searchEngine/SearchEngine.html" title="class in eu.ist.astra.rm.searchEngine">SearchEngine</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#searchEngine">searchEngine</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>(package private) &nbsp;eu.ist.astra.tmbe.ITagManagerBackEnd</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#tmbe">tmbe</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_eu.ist.astra.rm.IRepositoryManager"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface eu.ist.astra.rm.<A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#SOAP_SERVICE_NAME">SOAP_SERVICE_NAME</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#RepositoryManagerImpl(BundleContext)">RepositoryManagerImpl</A></B>(BundleContext&nbsp;bc)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#createSharedApplication(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">createSharedApplication</A></B>(java.lang.String&nbsp;appId,
                        java.lang.String&nbsp;userId,
                        java.lang.String&nbsp;appType,
                        java.lang.String&nbsp;appDescription)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new shared application in the back-end.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#createSharedRule(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">createSharedRule</A></B>(java.lang.String&nbsp;userId,
                 java.lang.String&nbsp;appId,
                 java.lang.String&nbsp;ruleId,
                 java.lang.String&nbsp;xml_data)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Create a new shared rule in the back-end.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#deleteSharedApplication(java.lang.String)">deleteSharedApplication</A></B>(java.lang.String&nbsp;appId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete a SharedApplication in the DB and in local memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getCMref()">getCMref</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes a reference to the CM
 
 Needed for retrieving list of communities joined for this user</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getESref()">getESref</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes a reference to the EventsManager in the attribute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getPMref()">getPMref</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes a reference to the PM in the attribute,</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getRuleDescription(java.lang.String, java.lang.String)">getRuleDescription</A></B>(java.lang.String&nbsp;appID,
                   java.lang.String&nbsp;ruleID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a description of the rule in a "readable" using the data from
 the original XML file</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getSharedApplicationDate(java.lang.String)">getSharedApplicationDate</A></B>(java.lang.String&nbsp;appID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the sharing date of the application, retrieving it from the object in memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getSharedApplicationDescription(java.lang.String)">getSharedApplicationDescription</A></B>(java.lang.String&nbsp;appID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the description of the application, retrieving it from the object in memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getSharedApplicationName(java.lang.String)">getSharedApplicationName</A></B>(java.lang.String&nbsp;appID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the name of the application, retrieving it from the object in memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getSharedApplicationOwner(java.lang.String)">getSharedApplicationOwner</A></B>(java.lang.String&nbsp;appID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the owner of the application, retrieving it from the object in memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getSharedApplicationType(java.lang.String)">getSharedApplicationType</A></B>(java.lang.String&nbsp;appID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the type of the application, retrieving it from the object in memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getTMBEref()">getTMBEref</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes a reference to the TagManagerBackEnd
 
 Needed for indexing a list of tags associated to an application</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getXmlData(java.lang.String, java.lang.String)">getXmlData</A></B>(java.lang.String&nbsp;appID,
           java.lang.String&nbsp;ruleID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the XML file which describes the rule.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#getXmlRule(java.lang.String, java.lang.String, java.lang.String)">getXmlRule</A></B>(java.lang.String&nbsp;appID,
           java.lang.String&nbsp;ruleID,
           java.lang.String&nbsp;newUserID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the XML file which describes the rule.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#isAlreadyShared(java.lang.String)">isAlreadyShared</A></B>(java.lang.String&nbsp;appId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Function that checks if an application has been already shared</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#isSharedInCommunity(java.lang.String, java.lang.String)">isSharedInCommunity</A></B>(java.lang.String&nbsp;appId,
                    java.lang.String&nbsp;communityId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Function that checks if an application has been shared in the
 given community</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#listSharedApplications(java.lang.String)">listSharedApplications</A></B>(java.lang.String&nbsp;userID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the list of applications in the repository, filtering the ones this user
 is not part of any of the communities.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#listSharedRules(java.lang.String)">listSharedRules</A></B>(java.lang.String&nbsp;appID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the list of rules in the repository which belongs to appID</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#loadApplications()">loadApplications</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load all the shared applications in local memory 
 
        - Query to get all the applications
                
        - Create SharedApplication objects with this info for each of them
                
        - Store them in local memory (hash table apps)</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#loadRules(java.lang.String)">loadRules</A></B>(java.lang.String&nbsp;appID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load the rules from DB and store them in local memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#loadSharedInCommunities(java.lang.String)">loadSharedInCommunities</A></B>(java.lang.String&nbsp;appID)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Load the relationships between applications and communities from the DB, and store 
 them into local memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#search(java.lang.String, java.lang.String, java.lang.String)">search</A></B>(java.lang.String&nbsp;userId,
       java.lang.String&nbsp;q,
       java.lang.String&nbsp;criterion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It performs a search according to one criterion</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#search(java.lang.String, java.lang.String, java.lang.String[])">search</A></B>(java.lang.String&nbsp;userId,
       java.lang.String&nbsp;q,
       java.lang.String[]&nbsp;criteria)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It performs a search according to a set of criteria</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#searchBySimilarity(java.lang.String, java.lang.String, java.lang.String)">searchBySimilarity</A></B>(java.lang.String&nbsp;userId,
                   java.lang.String&nbsp;appId,
                   java.lang.String&nbsp;appDescription)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;It performs a search of applications with similar information to the one
 which is sent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#setupDB()">setupDB</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs the setup of the database model for the repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#shareInCommunity(java.lang.String, java.lang.String, java.lang.String)">shareInCommunity</A></B>(java.lang.String&nbsp;userId,
                 java.lang.String&nbsp;appId,
                 java.lang.String&nbsp;communityId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store relationship between a shared application and a community in 
 the DB and in local memory</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/rm/impl/RepositoryManagerImpl.html#update(java.lang.Object, eu.ist.astra.em.events.AstraEvent, java.lang.String)">update</A></B>(java.lang.Object&nbsp;sender,
       eu.ist.astra.em.events.AstraEvent&nbsp;event,
       java.lang.String&nbsp;channel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="pm"><!-- --></A><H3>
pm</H3>
<PRE>
eu.ist.astra.persistency.IPersistencyManager <B>pm</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="cm"><!-- --></A><H3>
cm</H3>
<PRE>
eu.ist.astra.cm.ICommunityManager <B>cm</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="tmbe"><!-- --></A><H3>
tmbe</H3>
<PRE>
eu.ist.astra.tmbe.ITagManagerBackEnd <B>tmbe</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="es"><!-- --></A><H3>
es</H3>
<PRE>
private eu.ist.astra.em.IEventsServer <B>es</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="apps"><!-- --></A><H3>
apps</H3>
<PRE>
java.util.Hashtable&lt;java.lang.String,<A HREF="../../../../../eu/ist/astra/rm/impl/SharedApplication.html" title="class in eu.ist.astra.rm.impl">SharedApplication</A>&gt; <B>apps</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="bc"><!-- --></A><H3>
bc</H3>
<PRE>
BundleContext <B>bc</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="searchEngine"><!-- --></A><H3>
searchEngine</H3>
<PRE>
<A HREF="../../../../../eu/ist/astra/rm/searchEngine/SearchEngine.html" title="class in eu.ist.astra.rm.searchEngine">SearchEngine</A> <B>searchEngine</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="RepositoryManagerImpl(BundleContext)"><!-- --></A><H3>
RepositoryManagerImpl</H3>
<PRE>
public <B>RepositoryManagerImpl</B>(BundleContext&nbsp;bc)
                      throws eu.ist.astra.persistency.PersistencyException</PRE>
<DL>
<DL>

<DT><B>Throws:</B>
<DD><CODE>eu.ist.astra.persistency.PersistencyException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getESref()"><!-- --></A><H3>
getESref</H3>
<PRE>
private void <B>getESref</B>()</PRE>
<DL>
<DD>Takes a reference to the EventsManager in the attribute.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPMref()"><!-- --></A><H3>
getPMref</H3>
<PRE>
private void <B>getPMref</B>()</PRE>
<DL>
<DD>Takes a reference to the PM in the attribute,
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCMref()"><!-- --></A><H3>
getCMref</H3>
<PRE>
private void <B>getCMref</B>()</PRE>
<DL>
<DD>Takes a reference to the CM
 
 Needed for retrieving list of communities joined for this user
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTMBEref()"><!-- --></A><H3>
getTMBEref</H3>
<PRE>
private void <B>getTMBEref</B>()</PRE>
<DL>
<DD>Takes a reference to the TagManagerBackEnd
 
 Needed for indexing a list of tags associated to an application
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSharedApplicationName(java.lang.String)"><!-- --></A><H3>
getSharedApplicationName</H3>
<PRE>
public java.lang.String <B>getSharedApplicationName</B>(java.lang.String&nbsp;appID)</PRE>
<DL>
<DD>Returns the name of the application, retrieving it from the object in memory
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#getSharedApplicationName(java.lang.String)">getSharedApplicationName</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application Identifier
<DT><B>Returns:</B><DD>application name</DL>
</DD>
</DL>
<HR>

<A NAME="getSharedApplicationOwner(java.lang.String)"><!-- --></A><H3>
getSharedApplicationOwner</H3>
<PRE>
public java.lang.String <B>getSharedApplicationOwner</B>(java.lang.String&nbsp;appID)</PRE>
<DL>
<DD>Returns the owner of the application, retrieving it from the object in memory
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#getSharedApplicationOwner(java.lang.String)">getSharedApplicationOwner</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application Identifier
<DT><B>Returns:</B><DD>application owner</DL>
</DD>
</DL>
<HR>

<A NAME="getSharedApplicationDescription(java.lang.String)"><!-- --></A><H3>
getSharedApplicationDescription</H3>
<PRE>
public java.lang.String <B>getSharedApplicationDescription</B>(java.lang.String&nbsp;appID)</PRE>
<DL>
<DD>Returns the description of the application, retrieving it from the object in memory
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#getSharedApplicationDescription(java.lang.String)">getSharedApplicationDescription</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application Identifier
<DT><B>Returns:</B><DD>application description</DL>
</DD>
</DL>
<HR>

<A NAME="getSharedApplicationType(java.lang.String)"><!-- --></A><H3>
getSharedApplicationType</H3>
<PRE>
public java.lang.String <B>getSharedApplicationType</B>(java.lang.String&nbsp;appID)</PRE>
<DL>
<DD>Returns the type of the application, retrieving it from the object in memory
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#getSharedApplicationType(java.lang.String)">getSharedApplicationType</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application Identifier
<DT><B>Returns:</B><DD>application description</DL>
</DD>
</DL>
<HR>

<A NAME="getSharedApplicationDate(java.lang.String)"><!-- --></A><H3>
getSharedApplicationDate</H3>
<PRE>
public java.lang.String <B>getSharedApplicationDate</B>(java.lang.String&nbsp;appID)</PRE>
<DL>
<DD>Returns the sharing date of the application, retrieving it from the object in memory
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#getSharedApplicationDate(java.lang.String)">getSharedApplicationDate</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application Identifier
<DT><B>Returns:</B><DD>application sharing date</DL>
</DD>
</DL>
<HR>

<A NAME="isAlreadyShared(java.lang.String)"><!-- --></A><H3>
isAlreadyShared</H3>
<PRE>
public boolean <B>isAlreadyShared</B>(java.lang.String&nbsp;appId)</PRE>
<DL>
<DD>Function that checks if an application has been already shared
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#isAlreadyShared(java.lang.String)">isAlreadyShared</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appId</CODE> - Application id in the standard format
<DT><B>Returns:</B><DD>true if already exists, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="isSharedInCommunity(java.lang.String, java.lang.String)"><!-- --></A><H3>
isSharedInCommunity</H3>
<PRE>
public boolean <B>isSharedInCommunity</B>(java.lang.String&nbsp;appId,
                                   java.lang.String&nbsp;communityId)</PRE>
<DL>
<DD>Function that checks if an application has been shared in the
 given community
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#isSharedInCommunity(java.lang.String, java.lang.String)">isSharedInCommunity</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appId</CODE> - Application id in the standard format<DD><CODE>communityId</CODE> - Community identifier in the standard ASTRA format
<DT><B>Returns:</B><DD>true if it has been shared in that community, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="createSharedApplication(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
createSharedApplication</H3>
<PRE>
public boolean <B>createSharedApplication</B>(java.lang.String&nbsp;appId,
                                       java.lang.String&nbsp;userId,
                                       java.lang.String&nbsp;appType,
                                       java.lang.String&nbsp;appDescription)</PRE>
<DL>
<DD>Create a new shared application in the back-end.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#createSharedApplication(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">createSharedApplication</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appId</CODE> - Application identifier in the standard format<DD><CODE>userId</CODE> - Identifier of the user who uploads the application to the repository in the standard format<DD><CODE>appType</CODE> - Type of application<DD><CODE>appDescription</CODE> - Application Description
 
 The date is created directly in the DB, and refers to the date when the application was shared
<DT><B>Returns:</B><DD>True if everything is ok, false if there was a failure (db, ...)</DL>
</DD>
</DL>
<HR>

<A NAME="deleteSharedApplication(java.lang.String)"><!-- --></A><H3>
deleteSharedApplication</H3>
<PRE>
public boolean <B>deleteSharedApplication</B>(java.lang.String&nbsp;appId)</PRE>
<DL>
<DD>Delete a SharedApplication in the DB and in local memory
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#deleteSharedApplication(java.lang.String)">deleteSharedApplication</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appId</CODE> - Application Identifier in the standard format
<DT><B>Returns:</B><DD>True if the application was deleted properly, false otherwise (exception in the DB, delete an application
                        which does not exist, etc.)</DL>
</DD>
</DL>
<HR>

<A NAME="shareInCommunity(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
shareInCommunity</H3>
<PRE>
public boolean <B>shareInCommunity</B>(java.lang.String&nbsp;userId,
                                java.lang.String&nbsp;appId,
                                java.lang.String&nbsp;communityId)</PRE>
<DL>
<DD>Store relationship between a shared application and a community in 
 the DB and in local memory
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#shareInCommunity(java.lang.String, java.lang.String, java.lang.String)">shareInCommunity</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userId</CODE> - User identifier in the standard format<DD><CODE>appId</CODE> - Application identifier in the standard format<DD><CODE>communityId</CODE> - Community identifier in the standard format
<DT><B>Returns:</B><DD>True if the operation was successful, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="createSharedRule(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
createSharedRule</H3>
<PRE>
public boolean <B>createSharedRule</B>(java.lang.String&nbsp;userId,
                                java.lang.String&nbsp;appId,
                                java.lang.String&nbsp;ruleId,
                                java.lang.String&nbsp;xml_data)</PRE>
<DL>
<DD>Create a new shared rule in the back-end.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#createSharedRule(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">createSharedRule</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userId</CODE> - Identifier of the user who uploads the application to the repository in the standard format<DD><CODE>appId</CODE> - Application identifier in the standard format<DD><CODE>ruleId</CODE> - Rule identifier in the standard format<DD><CODE>xml_data</CODE> - Description of the rule in XML format
<DT><B>Returns:</B><DD>True if everything is ok, false if there was a failure (db, ...)</DL>
</DD>
</DL>
<HR>

<A NAME="listSharedApplications(java.lang.String)"><!-- --></A><H3>
listSharedApplications</H3>
<PRE>
public java.lang.String[] <B>listSharedApplications</B>(java.lang.String&nbsp;userID)</PRE>
<DL>
<DD>Returns the list of applications in the repository, filtering the ones this user
 is not part of any of the communities.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#listSharedApplications(java.lang.String)">listSharedApplications</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userID</CODE> - User identifier in the standard format
<DT><B>Returns:</B><DD>List of applications in the repository</DL>
</DD>
</DL>
<HR>

<A NAME="listSharedRules(java.lang.String)"><!-- --></A><H3>
listSharedRules</H3>
<PRE>
public java.lang.String[] <B>listSharedRules</B>(java.lang.String&nbsp;appID)</PRE>
<DL>
<DD>Returns the list of rules in the repository which belongs to appID
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#listSharedRules(java.lang.String)">listSharedRules</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application identifier in the standard format
<DT><B>Returns:</B><DD>List of shared rules for this application</DL>
</DD>
</DL>
<HR>

<A NAME="getXmlData(java.lang.String, java.lang.String)"><!-- --></A><H3>
getXmlData</H3>
<PRE>
public java.lang.String <B>getXmlData</B>(java.lang.String&nbsp;appID,
                                   java.lang.String&nbsp;ruleID)</PRE>
<DL>
<DD>Returns the XML file which describes the rule.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#getXmlData(java.lang.String, java.lang.String)">getXmlData</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application identifier<DD><CODE>ruleID</CODE> - Rule identifier
<DT><B>Returns:</B><DD>XML file describing the rule</DL>
</DD>
</DL>
<HR>

<A NAME="getXmlRule(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
getXmlRule</H3>
<PRE>
public java.lang.String <B>getXmlRule</B>(java.lang.String&nbsp;appID,
                                   java.lang.String&nbsp;ruleID,
                                   java.lang.String&nbsp;newUserID)</PRE>
<DL>
<DD>Returns the XML file which describes the rule. The difference with getXMLData
 is that this method provides already the necessary changes in the ownership
 internally (which is maintained to provide compatibility)
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#getXmlRule(java.lang.String, java.lang.String, java.lang.String)">getXmlRule</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application identifier<DD><CODE>ruleID</CODE> - Rule identifier<DD><CODE>newUserID</CODE> - New user identifier.
<DT><B>Returns:</B><DD>XML file describing the rule</DL>
</DD>
</DL>
<HR>

<A NAME="getRuleDescription(java.lang.String, java.lang.String)"><!-- --></A><H3>
getRuleDescription</H3>
<PRE>
public java.lang.String <B>getRuleDescription</B>(java.lang.String&nbsp;appID,
                                           java.lang.String&nbsp;ruleID)</PRE>
<DL>
<DD>Returns a description of the rule in a "readable" using the data from
 the original XML file
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#getRuleDescription(java.lang.String, java.lang.String)">getRuleDescription</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application identifier<DD><CODE>ruleID</CODE> - Rule identifier
<DT><B>Returns:</B><DD>XML file describing the rule</DL>
</DD>
</DL>
<HR>

<A NAME="search(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
search</H3>
<PRE>
public java.lang.String[] <B>search</B>(java.lang.String&nbsp;userId,
                                 java.lang.String&nbsp;q,
                                 java.lang.String&nbsp;criterion)</PRE>
<DL>
<DD>It performs a search according to one criterion
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#search(java.lang.String, java.lang.String, java.lang.String)">search</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userId</CODE> - Identifier of the user who is performing the search<DD><CODE>q</CODE> - String with the query<DD><CODE>criterion</CODE> - String with the criterion to filter by : (currently: description, tags and type)
<DT><B>Returns:</B><DD>Array with all the application identifiers (in standard ASTRA format) sorted by score, 
                        null if there were not results</DL>
</DD>
</DL>
<HR>

<A NAME="search(java.lang.String, java.lang.String, java.lang.String[])"><!-- --></A><H3>
search</H3>
<PRE>
public java.lang.String[] <B>search</B>(java.lang.String&nbsp;userId,
                                 java.lang.String&nbsp;q,
                                 java.lang.String[]&nbsp;criteria)</PRE>
<DL>
<DD>It performs a search according to a set of criteria
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#search(java.lang.String, java.lang.String, java.lang.String[])">search</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userId</CODE> - Identifier of the user who is performing the search<DD><CODE>q</CODE> - String with the query<DD><CODE>criteria</CODE> - Array with the criteria to filter by : (currently: description, tags and type)
<DT><B>Returns:</B><DD>Array with all the application identifiers (in standard ASTRA format) sorted by score, 
                        null if there were not results</DL>
</DD>
</DL>
<HR>

<A NAME="searchBySimilarity(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
searchBySimilarity</H3>
<PRE>
public java.lang.String[] <B>searchBySimilarity</B>(java.lang.String&nbsp;userId,
                                             java.lang.String&nbsp;appId,
                                             java.lang.String&nbsp;appDescription)</PRE>
<DL>
<DD>It performs a search of applications with similar information to the one
 which is sent.
 For the moment it is based on:
        - Description of the compared application (sent by the node) + 
  - List of community tags visible for that user (recovered by the repository in the Backend)
        - List of public tags of the compared application (recovered by the repository in the backend)
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html#searchBySimilarity(java.lang.String, java.lang.String, java.lang.String)">searchBySimilarity</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/rm/IRepositoryManager.html" title="interface in eu.ist.astra.rm">IRepositoryManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>userId</CODE> - User identifier in the standard astra format<DD><CODE>appId</CODE> - Application identifier in the standard astra format<DD><CODE>appDescription</CODE> - Application description
<DT><B>Returns:</B><DD>Array with all the application identifiers (in standard ASTRA format) sorted by score, 
                        null if there were not results</DL>
</DD>
</DL>
<HR>

<A NAME="loadApplications()"><!-- --></A><H3>
loadApplications</H3>
<PRE>
private void <B>loadApplications</B>()
                       throws eu.ist.astra.persistency.PersistencyException</PRE>
<DL>
<DD>Load all the shared applications in local memory 
 
        - Query to get all the applications
                
        - Create SharedApplication objects with this info for each of them
                
        - Store them in local memory (hash table apps)
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>eu.ist.astra.persistency.PersistencyException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadSharedInCommunities(java.lang.String)"><!-- --></A><H3>
loadSharedInCommunities</H3>
<PRE>
private void <B>loadSharedInCommunities</B>(java.lang.String&nbsp;appID)
                              throws eu.ist.astra.persistency.PersistencyException</PRE>
<DL>
<DD>Load the relationships between applications and communities from the DB, and store 
 them into local memory
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application Identifier
<DT><B>Throws:</B>
<DD><CODE>eu.ist.astra.persistency.PersistencyException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="loadRules(java.lang.String)"><!-- --></A><H3>
loadRules</H3>
<PRE>
private void <B>loadRules</B>(java.lang.String&nbsp;appID)
                throws eu.ist.astra.persistency.PersistencyException</PRE>
<DL>
<DD>Load the rules from DB and store them in local memory
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appID</CODE> - Application identifier in the standard format
<DT><B>Throws:</B>
<DD><CODE>eu.ist.astra.persistency.PersistencyException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setupDB()"><!-- --></A><H3>
setupDB</H3>
<PRE>
public void <B>setupDB</B>()
             throws eu.ist.astra.persistency.PersistencyException</PRE>
<DL>
<DD>Performs the setup of the database model for the repository
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>eu.ist.astra.persistency.PersistencyException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="update(java.lang.Object, eu.ist.astra.em.events.AstraEvent, java.lang.String)"><!-- --></A><H3>
update</H3>
<PRE>
public void <B>update</B>(java.lang.Object&nbsp;sender,
                   eu.ist.astra.em.events.AstraEvent&nbsp;event,
                   java.lang.String&nbsp;channel)</PRE>
<DL>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>update</CODE> in interface <CODE>eu.ist.astra.em.IEventsListener</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/RepositoryManagerImpl.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../eu/ist/astra/rm/impl/Activator.html" title="class in eu.ist.astra.rm.impl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../eu/ist/astra/rm/impl/SharedApplication.html" title="class in eu.ist.astra.rm.impl"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?eu/ist/astra/rm/impl/RepositoryManagerImpl.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="RepositoryManagerImpl.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
