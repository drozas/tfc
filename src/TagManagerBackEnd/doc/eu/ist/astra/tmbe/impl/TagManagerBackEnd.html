<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_10) on Thu Aug 13 12:37:48 CEST 2009 -->
<TITLE>
TagManagerBackEnd
</TITLE>

<META NAME="date" CONTENT="2009-08-13">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="TagManagerBackEnd";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TagManagerBackEnd.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../eu/ist/astra/tmbe/impl/GlobalConstants.html" title="class in eu.ist.astra.tmbe.impl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?eu/ist/astra/tmbe/impl/TagManagerBackEnd.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TagManagerBackEnd.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
eu.ist.astra.tmbe.impl</FONT>
<BR>
Class TagManagerBackEnd</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>eu.ist.astra.tmbe.impl.TagManagerBackEnd</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>TagManagerBackEnd</B><DT>extends java.lang.Object<DT>implements <A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></DL>
</PRE>

<P>
Implementation class of the Tag Manager Server service interface
 
 Handles public and community tags.
  
 A MySql database is used to store tags.
<P>

<P>
<DL>
<DT><B>Version:</B></DT>
  <DD>0.3
 
 Adapted to use it in Astra</DD>
<DT><B>Author:</B></DT>
  <DD>Christian Laverton, modified by David Rozas & Alfredo Perez</DD>
</DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;BundleContext</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#bc">bc</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;eu.ist.astra.cm.ICommunityManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#cm">cm</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;eu.ist.astra.em.IEventsServer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#es">es</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;eu.ist.astra.persistency.IPersistencyManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#pm">pm</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_eu.ist.astra.tmbe.ITagManagerBackEnd"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface eu.ist.astra.tmbe.<A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#SOAP_SERVICE_NAME">SOAP_SERVICE_NAME</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#TagManagerBackEnd(BundleContext)">TagManagerBackEnd</A></B>(BundleContext&nbsp;bc)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#addTag(java.lang.String, java.lang.String, java.lang.String)">addTag</A></B>(java.lang.String&nbsp;name,
       java.lang.String&nbsp;appId,
       java.lang.String&nbsp;userId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new public tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#addTagByCommunity(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">addTagByCommunity</A></B>(java.lang.String&nbsp;name,
                  java.lang.String&nbsp;appId,
                  java.lang.String&nbsp;userId,
                  java.lang.String&nbsp;communityId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new community tag.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#addTagListener(java.lang.String, java.lang.String)">addTagListener</A></B>(java.lang.String&nbsp;url,
               java.lang.String&nbsp;service)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#deleteTag(java.lang.String, java.lang.String, java.lang.String)">deleteTag</A></B>(java.lang.String&nbsp;name,
          java.lang.String&nbsp;appId,
          java.lang.String&nbsp;userId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes a public tag</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#deleteTag(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">deleteTag</A></B>(java.lang.String&nbsp;name,
          java.lang.String&nbsp;appId,
          java.lang.String&nbsp;userId,
          java.lang.String&nbsp;communityId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Deletes a tag for a given community</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#getCMref()">getCMref</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes a reference to the CM in the attribute</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#getESref()">getESref</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes a reference to the Events Servers in the attribute</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#getPMref()">getPMref</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes a reference to the PM in the attribute</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#getTags(java.lang.String, int)">getTags</A></B>(java.lang.String&nbsp;appId,
        int&nbsp;limit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds and returns all tags for the given application.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#getTagsByApplication(java.lang.String, java.lang.String, int)">getTagsByApplication</A></B>(java.lang.String&nbsp;appId,
                     java.lang.String&nbsp;userId,
                     int&nbsp;limit)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds and returns all tags for the given application which are public or are from a community
 where the user is part of.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#getTagsByCommunity(java.lang.String, int, java.lang.String)">getTagsByCommunity</A></B>(java.lang.String&nbsp;appId,
                   int&nbsp;limit,
                   java.lang.String&nbsp;communityId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finds and returns all tags for the given application and community.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#notifyDeleteTag(java.lang.String, java.lang.String, java.lang.String)">notifyDeleteTag</A></B>(java.lang.String&nbsp;uid,
                java.lang.String&nbsp;appId,
                java.lang.String&nbsp;tag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notifies a new public tag was deleted to the Events Manager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#notifyNewTag(java.lang.String, java.lang.String, java.lang.String)">notifyNewTag</A></B>(java.lang.String&nbsp;uid,
             java.lang.String&nbsp;appId,
             java.lang.String&nbsp;tag)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Notifies a new public tag was created to the Events Manager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#setupDB()">setupDB</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs the setup of the database model</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>private &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../eu/ist/astra/tmbe/impl/TagManagerBackEnd.html#validateTag(java.lang.String)">validateTag</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks if a tag is valid
 The criteria are
 - not null
 - does not contain spaces
 - contains no more than 30 characters</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="pm"><!-- --></A><H3>
pm</H3>
<PRE>
private eu.ist.astra.persistency.IPersistencyManager <B>pm</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="bc"><!-- --></A><H3>
bc</H3>
<PRE>
private BundleContext <B>bc</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="cm"><!-- --></A><H3>
cm</H3>
<PRE>
private eu.ist.astra.cm.ICommunityManager <B>cm</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="es"><!-- --></A><H3>
es</H3>
<PRE>
private eu.ist.astra.em.IEventsServer <B>es</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="TagManagerBackEnd(BundleContext)"><!-- --></A><H3>
TagManagerBackEnd</H3>
<PRE>
public <B>TagManagerBackEnd</B>(BundleContext&nbsp;bc)
                  throws eu.ist.astra.persistency.PersistencyException</PRE>
<DL>
<DL>

<DT><B>Throws:</B>
<DD><CODE>eu.ist.astra.persistency.PersistencyException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getPMref()"><!-- --></A><H3>
getPMref</H3>
<PRE>
private void <B>getPMref</B>()</PRE>
<DL>
<DD>Takes a reference to the PM in the attribute
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getESref()"><!-- --></A><H3>
getESref</H3>
<PRE>
private void <B>getESref</B>()</PRE>
<DL>
<DD>Takes a reference to the Events Servers in the attribute
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCMref()"><!-- --></A><H3>
getCMref</H3>
<PRE>
private void <B>getCMref</B>()</PRE>
<DL>
<DD>Takes a reference to the CM in the attribute
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addTag(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
addTag</H3>
<PRE>
public boolean <B>addTag</B>(java.lang.String&nbsp;name,
                      java.lang.String&nbsp;appId,
                      java.lang.String&nbsp;userId)</PRE>
<DL>
<DD>Creates a new public tag. 

 Adapted for Astra.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#addTag(java.lang.String, java.lang.String, java.lang.String)">addTag</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - Tag name<DD><CODE>appId</CODE> - Application identifier<DD><CODE>userId</CODE> - User identifier
<DT><B>Returns:</B><DD>True if the operation was successful, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="addTagByCommunity(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
addTagByCommunity</H3>
<PRE>
public boolean <B>addTagByCommunity</B>(java.lang.String&nbsp;name,
                                 java.lang.String&nbsp;appId,
                                 java.lang.String&nbsp;userId,
                                 java.lang.String&nbsp;communityId)</PRE>
<DL>
<DD>Creates a new community tag.

 Adapted for Astra.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#addTagByCommunity(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">addTagByCommunity</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - Tag name<DD><CODE>appId</CODE> - Application identifier<DD><CODE>userId</CODE> - User identifier<DD><CODE>communityId</CODE> - Community identifier
<DT><B>Returns:</B><DD>True if the operation was successful, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="getTags(java.lang.String, int)"><!-- --></A><H3>
getTags</H3>
<PRE>
public java.lang.String[] <B>getTags</B>(java.lang.String&nbsp;appId,
                                  int&nbsp;limit)</PRE>
<DL>
<DD>Finds and returns all tags for the given application. 
 The tags returned are unique (if many users chose the same name, it will only appears once)
 and it is sorted by popularity (number of occurrences).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#getTags(java.lang.String, int)">getTags</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appId</CODE> - Application identifier<DD><CODE>limit</CODE> - Limit on number of results returned. If <=0, then all the results are returned
<DT><B>Returns:</B><DD>List of public tags resulting from query, empty array if there no tags for it, 
                        or null if there was any problem with the DB.</DL>
</DD>
</DL>
<HR>

<A NAME="getTagsByCommunity(java.lang.String, int, java.lang.String)"><!-- --></A><H3>
getTagsByCommunity</H3>
<PRE>
public java.lang.String[] <B>getTagsByCommunity</B>(java.lang.String&nbsp;appId,
                                             int&nbsp;limit,
                                             java.lang.String&nbsp;communityId)</PRE>
<DL>
<DD>Finds and returns all tags for the given application and community. 
 The tags returned are unique (if many users chose the same name, it will only appears once)
 and it is sorted by popularity (number of occurrences).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#getTagsByCommunity(java.lang.String, int, java.lang.String)">getTagsByCommunity</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appId</CODE> - Application identifier<DD><CODE>limit</CODE> - Limit on number of results returned. If <=0, then all the results are returned<DD><CODE>communityId</CODE> - Community Identifier
<DT><B>Returns:</B><DD>List of tags which belong to that community resulting from query, empty array if there no tags for it, 
                        or null if there was any problem with the DB.</DL>
</DD>
</DL>
<HR>

<A NAME="getTagsByApplication(java.lang.String, java.lang.String, int)"><!-- --></A><H3>
getTagsByApplication</H3>
<PRE>
public java.lang.String[] <B>getTagsByApplication</B>(java.lang.String&nbsp;appId,
                                               java.lang.String&nbsp;userId,
                                               int&nbsp;limit)</PRE>
<DL>
<DD>Finds and returns all tags for the given application which are public or are from a community
 where the user is part of. 
 The tags returned are unique (if many users chose the same name, it will only appears once)
 and it is sorted by popularity (number of occurrences).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#getTagsByApplication(java.lang.String, java.lang.String, int)">getTagsByApplication</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>appId</CODE> - Application identifier<DD><CODE>userId</CODE> - User identifier<DD><CODE>limit</CODE> - Limit on number of results returned. If <=0, then all the results are returned
<DT><B>Returns:</B><DD>List of tags which belong to that community resulting from query, empty array if there no tags for it, 
                        or null if there was any problem with the DB.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteTag(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
deleteTag</H3>
<PRE>
public boolean <B>deleteTag</B>(java.lang.String&nbsp;name,
                         java.lang.String&nbsp;appId,
                         java.lang.String&nbsp;userId)</PRE>
<DL>
<DD>Deletes a public tag
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#deleteTag(java.lang.String, java.lang.String, java.lang.String)">deleteTag</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - Tag name<DD><CODE>appId</CODE> - Application identifier in standard ASTRA format<DD><CODE>userId</CODE> - User identifier
<DT><B>Returns:</B><DD>True if the process was successful, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteTag(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
deleteTag</H3>
<PRE>
public boolean <B>deleteTag</B>(java.lang.String&nbsp;name,
                         java.lang.String&nbsp;appId,
                         java.lang.String&nbsp;userId,
                         java.lang.String&nbsp;communityId)</PRE>
<DL>
<DD>Deletes a tag for a given community
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#deleteTag(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">deleteTag</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - Tag name<DD><CODE>appId</CODE> - Application identifier in standard ASTRA format<DD><CODE>userId</CODE> - User identifier<DD><CODE>communityId</CODE> - Community Identifier
<DT><B>Returns:</B><DD>True if the process was successful, false otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="validateTag(java.lang.String)"><!-- --></A><H3>
validateTag</H3>
<PRE>
private boolean <B>validateTag</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Checks if a tag is valid
 The criteria are
 - not null
 - does not contain spaces
 - contains no more than 30 characters
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>name</CODE> - Tag name
<DT><B>Returns:</B><DD>True if tag is valid, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="setupDB()"><!-- --></A><H3>
setupDB</H3>
<PRE>
private void <B>setupDB</B>()
              throws eu.ist.astra.persistency.PersistencyException</PRE>
<DL>
<DD>Performs the setup of the database model
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>eu.ist.astra.persistency.PersistencyException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="addTagListener(java.lang.String, java.lang.String)"><!-- --></A><H3>
addTagListener</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>public void <B>addTagListener</B>(java.lang.String&nbsp;url,
                                      java.lang.String&nbsp;service)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;
<P>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#addTagListener(java.lang.String, java.lang.String)">ITagManagerBackEnd</A></CODE></B></DD>
<DD>Add a listener that will be notified whenever a tag is created
 or modified.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html#addTagListener(java.lang.String, java.lang.String)">addTagListener</A></CODE> in interface <CODE><A HREF="../../../../../eu/ist/astra/tmbe/ITagManagerBackEnd.html" title="interface in eu.ist.astra.tmbe">ITagManagerBackEnd</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="notifyNewTag(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
notifyNewTag</H3>
<PRE>
private void <B>notifyNewTag</B>(java.lang.String&nbsp;uid,
                          java.lang.String&nbsp;appId,
                          java.lang.String&nbsp;tag)</PRE>
<DL>
<DD>Notifies a new public tag was created to the Events Manager
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uid</CODE> - User who is adding the tag.<DD><CODE>appId</CODE> - Application whose tag is associated to.<DD><CODE>tag</CODE> - Tag name</DL>
</DD>
</DL>
<HR>

<A NAME="notifyDeleteTag(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
notifyDeleteTag</H3>
<PRE>
private void <B>notifyDeleteTag</B>(java.lang.String&nbsp;uid,
                             java.lang.String&nbsp;appId,
                             java.lang.String&nbsp;tag)</PRE>
<DL>
<DD>Notifies a new public tag was deleted to the Events Manager
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>uid</CODE> - User who is adding the tag.<DD><CODE>appId</CODE> - Application whose tag is associated to.<DD><CODE>tag</CODE> - Tag name</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/TagManagerBackEnd.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../eu/ist/astra/tmbe/impl/GlobalConstants.html" title="class in eu.ist.astra.tmbe.impl"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?eu/ist/astra/tmbe/impl/TagManagerBackEnd.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TagManagerBackEnd.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
